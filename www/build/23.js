webpackJsonp([23],{1012:function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),e.d(n,"ClaimsPageModule",function(){return l});var i=e(0),r=e(55),o=e(1633),s=e(100),a=this&&this.__decorate||function(t,n,e,i){var r,o=arguments.length,s=o<3?n:null===i?i=Object.getOwnPropertyDescriptor(n,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,n,e,i);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(o<3?r(s):o>3?r(n,e,s):r(n,e))||s);return o>3&&s&&Object.defineProperty(n,e,s),s},l=function(){function t(){}return t=a([Object(i.I)({declarations:[o.a],imports:[s.b.forChild(),r.f.forChild(o.a)],exports:[o.a]})],t)}()},1633:function(t,n,e){"use strict";e.d(n,"a",function(){return b});var i=e(0),r=e(15),o=e(55),s=e(42),a=e(573),l=e(141),c=e(101),u=e(43),f=(e.n(u),this&&this.__decorate||function(t,n,e,i){var r,o=arguments.length,s=o<3?n:null===i?i=Object.getOwnPropertyDescriptor(n,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,n,e,i);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(o<3?r(s):o>3?r(n,e,s):r(n,e))||s);return o>3&&s&&Object.defineProperty(n,e,s),s}),d=this&&this.__metadata||function(t,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,n)},h=this&&this.__awaiter||function(t,n,e,i){return new(e||(e=Promise))(function(r,o){function s(t){try{l(i.next(t))}catch(t){o(t)}}function a(t){try{l(i.throw(t))}catch(t){o(t)}}function l(t){t.done?r(t.value):new e(function(n){n(t.value)}).then(s,a)}l((i=i.apply(t,n||[])).next())})},p=this&&this.__generator||function(t,n){function e(e){return function(s){return function(e){if(i)throw new TypeError("Generator is already executing.");for(;a;)try{if(i=1,r&&(o=r[2&e[0]?"return":e[0]?"throw":"next"])&&!(o=o.call(r,e[1])).done)return o;switch(r=0,o&&(e=[0,o.value]),e[0]){case 0:case 1:o=e;break;case 4:return a.label++,{value:e[1],done:!1};case 5:a.label++,r=e[1],e=[0];continue;case 7:e=a.ops.pop(),a.trys.pop();continue;default:if(o=a.trys,!(o=o.length>0&&o[o.length-1])&&(6===e[0]||2===e[0])){a=0;continue}if(3===e[0]&&(!o||e[1]>o[0]&&e[1]<o[3])){a.label=e[1];break}if(6===e[0]&&a.label<o[1]){a.label=o[1],o=e;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(e);break}o[2]&&a.ops.pop(),a.trys.pop();continue}e=n.call(t,a)}catch(t){e=[6,t],r=0}finally{i=o=0}if(5&e[0])throw e[1];return{value:e[0]?e[1]:void 0,done:!0}}([e,s])}}var i,r,o,s,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return s={next:e(0),throw:e(1),return:e(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s},g=u.wallet.decrypt,m=u.wallet.getPrivateKeyFromWIF,b=function(){function t(t,n,e,i,r){this.claimsProvider=t,this.accountProvider=n,this.alertCtrl=e,this.store=i,this.loadingCtrl=r,this.account=this.accountProvider.defaultAccount}return t.prototype.ionViewDidLoad=function(){var t=this;this.store.dispatch(new l.c.Load),this.store.select(c.c.getEntities).subscribe(function(n){n&&(t.availableGas=(Number(n.available)+Number(n.unavailable)).toFixed(8))})},t.prototype.doClaim=function(){var t=this,n=this.loadingCtrl.create(),e=this.alertCtrl.create({title:"输入密码",message:"输入您的密码！",inputs:[{name:"passphrase",placeholder:"密码",type:"password"}],buttons:[{text:"取消"},{text:"确认",handler:function(i){var r=i.passphrase;if(""===r||r.length<4)return!1;n.present().then(function(){return h(t,void 0,void 0,function(){var t,i;return p(this,function(o){switch(o.label){case 0:return o.trys.push([0,4,,7]),t=m(g(this.account.encrypted,r)),[4,n.dismiss()];case 1:return o.sent(),[4,e.dismiss()];case 2:return o.sent(),[4,this.claimsProvider.doClaims(t)];case 3:return o.sent()&&this.showPrompt("提取成功！"),[3,7];case 4:return i=o.sent(),[4,n.dismiss()];case 5:return o.sent(),[4,e.dismiss()];case 6:return o.sent(),this.showPrompt(i.message||i),console.log(i),[3,7];case 7:return[2]}})})})}}]});e.present()},t.prototype.showPrompt=function(t){this.alertCtrl.create({message:t.message||t}).present()},t=f([Object(i.m)({selector:"page-claims",template:'<ion-header class="otcgo-header">\n\n\t<ion-navbar>\n\n\t\t<ion-title>\n\n\t\t\t{{ \'PROFILE.CLAIMS.title\' | translate}}\n\n\t\t</ion-title>\n\n\t</ion-navbar>\n\n</ion-header>\n\n\n\n<ion-content class="claims">\n\n\t<div class="claims__background">\n\n\t\t\x3c!--<svg xmlns="http://www.w3.org/2000/svg" xml:space="preserve" width="1.12015in" height="1.18516in" style="shape-rendering:geometricPrecision; text-rendering:geometricPrecision; image-rendering:optimizeQuality; fill-rule:evenodd; clip-rule:evenodd" viewBox="0 0 0.111047 0.117492">\n\n\t\t\t<defs>\n\n\t\t\t\t<style type="text/css">\n\n\n\n\t\t\t\t\t.fil2 {\n\n\t\t\t\t\t\tfill: white;\n\n\t\t\t\t\t\tfilter: url(#dropshadow);\n\n\t\t\t\t\t}\n\n\n\n\t\t\t\t\t.fil0 {\n\n\t\t\t\t\t\tfill: #1F1A17;\n\n\t\t\t\t\t\tfill-rule: nonzero;\n\n\t\t\t\t\t\tfill-opacity: 0.101961;\n\n\t\t\t\t\t\tfilter: url(#dropshadow);\n\n\t\t\t\t\t}\n\n\n\n\t\t\t\t\t.fil1 {\n\n\t\t\t\t\t\tfill: url(#id0);\n\n\t\t\t\t\t\tfill-rule: nonzero;\n\n\t\t\t\t\t\tfilter: url(#dropshadow);\n\n\t\t\t\t\t}\n\n\n\n\t\t\t\t</style>\n\n\t\t\t\t<linearGradient id="id0" gradientUnits="userSpaceOnUse" x1="-3.90297e-007" y1="0.0559886" x2="0.109927" y2="0.0559886">\n\n\t\t\t\t\t<stop offset="0" style="stop-color:#F8C300"/>\n\n\t\t\t\t\t<stop offset="1" style="stop-color:#E77817"/>\n\n\t\t\t\t</linearGradient>\n\n\t\t\t\t<filter id="dropshadow" height="130%">\n\n\t\t\t\t\t<feGaussianBlur in="SourceAlpha" stdDeviation="3"/> &lt;!&ndash; stdDeviation is how much to blur &ndash;&gt;\n\n\t\t\t\t\t<feOffset dx="2" dy="2" result="offsetblur"/> &lt;!&ndash; how much to offset &ndash;&gt;\n\n\t\t\t\t\t<feComponentTransfer>\n\n\t\t\t\t\t\t<feFuncA type="linear" slope="0.5"/> &lt;!&ndash; slope is the opacity of the shadow &ndash;&gt;\n\n\t\t\t\t\t</feComponentTransfer>\n\n\t\t\t\t\t<feMerge>\n\n\t\t\t\t\t\t<feMergeNode/> &lt;!&ndash; this contains the offset blurred image &ndash;&gt;\n\n\t\t\t\t\t\t<feMergeNode in="SourceGraphic"/> &lt;!&ndash; this contains the element that the filter is applied to &ndash;&gt;\n\n\t\t\t\t\t</feMerge>\n\n\t\t\t\t</filter>\n\n\t\t\t</defs>\n\n\n\n\t\t\t<g id="loop-group">\n\n\t\t\t\t<path filter="url(#dropshadow)" class="fil0" d="M0.0560799 0.0010218c0.0151759,0 0.0289187,0.00615382 0.0388658,0.0161013 0.00994712,0.00994712 0.0161013,0.0236891 0.0161013,0.038865 0,0.0151759 -0.00615421,0.0289187 -0.0161013,0.0388658 -0.00994712,0.00994712 -0.0236899,0.0161013 -0.0388658,0.0161013 -0.0151759,0 -0.0289183,-0.00615421 -0.0388654,-0.0161013 -0.00994712,-0.00994712 -0.0161013,-0.0236899 -0.0161013,-0.0388658 0,-0.0151759 0.00615421,-0.0289179 0.0161013,-0.038865 0.00994712,-0.00994751 0.0236895,-0.0161013 0.0388654,-0.0161013zm0.0330898 0.0218769c-0.00846867,-0.00846867 -0.0201694,-0.0137084 -0.0330898,-0.0137084 -0.0129204,0 -0.0246204,0.00523974 -0.0330894,0.0137084 -0.00846906,0.00846906 -0.0137084,0.020169 -0.0137084,0.0330894 0,0.0129208 0.00523935,0.0246211 0.0137084,0.0330898 0.00846906,0.00846906 0.020169,0.0137084 0.0330894,0.0137084 0.0129204,0 0.0246211,-0.00523935 0.0330898,-0.0137084 0.00846906,-0.00846867 0.0137084,-0.020169 0.0137084,-0.0330898 0,-0.0129204 -0.00523935,-0.0246204 -0.0137084,-0.0330894z"/>\n\n\n\n\t\t\t\t<path class="fil1" d="M0.0559882 0.101765c0.0028199,0 0.00510626,0.00228636 0.00510626,0.00510626 0,0.0028199 -0.00228636,0.00510626 -0.00510626,0.00510626 -0.0154577,0 -0.029455,-0.00626857 -0.0395875,-0.0164007 -0.0101325,-0.0101325 -0.0164011,-0.0241305 -0.0164011,-0.0395883 0,-0.0154577 0.00626857,-0.029455 0.0164011,-0.0395875 0.0101325,-0.0101325 0.0241297,-0.0164011 0.0395875,-0.0164011 0.01215,0 0.0234022,0.00387682 0.0325848,0.0104608 0.00941866,0.00675293 0.0166575,0.0163667 0.0204512,0.0275749 0.000903148,0.00266573 -0.000525731,0.0055594 -0.00319146,0.00646254 -0.00266534,0.000903148 -0.0055594,-0.000526121 -0.00646254,-0.00319146 -0.00309818,-0.00915404 -0.00902446,-0.0170166 -0.016741,-0.022549 -0.00750113,-0.0053783 -0.0167004,-0.00854517 -0.0266409,-0.00854517 -0.0126386,0 -0.0240833,0.00512539 -0.032367,0.0134091 -0.00828367,0.00828367 -0.0134091,0.0197284 -0.0134091,0.032367 0,0.012639 0.00512539,0.0240841 0.0134091,0.0323678 0.00828367,0.00828367 0.0197284,0.0134087 0.032367,0.0134087z"/>\n\n\t\t\t\t<path class="fil2" d="M0.0560803 0.0975345c0.00551022,0 0.00997873,0.00446851 0.00997873,0.00997834 0,0.00551022 -0.00446851,0.00997873 -0.00997873,0.00997873 -0.00550983,0 -0.00997834,-0.00446851 -0.00997834,-0.00997873 0,-0.00550983 0.00446851,-0.00997834 0.00997834,-0.00997834z"/>\n\n\t\t\t</g>\n\n\n\n\t\t</svg>--\x3e\n\n\n\n\t\t<div class="claims__svg-text"\n\n\t\t     text-center>\n\n\t\t\t<p>{{ \'PROFILE.CLAIMS.available\' | translate }}</p>\n\n\t\t\t<p class="title">{{ availableGas }} GAS</p>\n\n\t\t</div>\n\n\n\n\n\n\t\t<button ion-button round full clear class="claims__button otcgo-button" (click)="doClaim()">\n\n\t\t\t{{ \'PROFILE.CLAIMS.do_claims\' | translate }}\n\n\t\t</button>\n\n\t</div>\n\n\n\n\t\x3c!--<div class="claims__history">\n\n\t\t<ion-list-header>\n\n\t\t\t<ion-row>\n\n\t\t\t\t<ion-col col-3 text-left>名称</ion-col>\n\n\t\t\t\t<ion-col text-right>时间</ion-col>\n\n\t\t\t\t<ion-col col-4 text-right>数量</ion-col>\n\n\t\t\t</ion-row>\n\n\t\t</ion-list-header>\n\n\n\n\t\t<ion-list class="">\n\n\n\n\t\t</ion-list>\n\n\t</div>--\x3e\n\n</ion-content>'}),d("design:paramtypes",[a.a,s.b,o.a,r.h,o.g])],t)}()}});