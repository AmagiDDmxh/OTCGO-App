{"version":3,"sources":["../../src/containers/create-wallet/create-wallet.module.ts","../../src/containers/create-wallet/create-wallet.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;AAAwC;AACO;AACG;AACG;AAErD,IAAM,UAAU,GAAG;IAClB,wEAAgB;CAChB;AAUD;IAAA;IAAqC,CAAC;IAAzB,sBAAsB;QARlC,uEAAQ,CAAC;YACT,YAAY,EAAE,UAAU;YACxB,OAAO,EAAE;gBACR,4EAAe,CAAC,QAAQ,EAAE;gBAC1B,sEAAe,CAAC,QAAQ,CAAC,wEAAgB,CAAC;aAC1C;YACD,OAAO,EAAE,UAAU;SACnB,CAAC;OACW,sBAAsB,CAAG;IAAD,6BAAC;CAAA;AAAH;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACbb;AACa;AACU;AAGL;AAC+B;AAEtB;AACqB;AACvC;AAQ/B;IAUE,0BACU,OAAsB,EACtB,KAA8B,EAC9B,EAAwB,EACxB,EAAmB;QAHnB,YAAO,GAAP,OAAO,CAAe;QACtB,UAAK,GAAL,KAAK,CAAyB;QAC9B,OAAE,GAAF,EAAE,CAAsB;QACxB,OAAE,GAAF,EAAE,CAAiB;QAbrB,sBAAiB,GAAG,KAAK;IAc7B,CAAC;IAEL,mCAAQ,GAAR;QAAA,iBAGC;QAFC,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,uEAAa,CAAC,UAAU,CAAC,CAAC,SAAS,CAAC,cAAI,IAAI,YAAI,CAAC,EAAE,CAAC,IAAI,CAAC,IAAI,CAAC,EAAlB,CAAkB,CAAC;QACnF,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,uEAAa,CAAC,QAAQ,CAAC,CAAC,SAAS,CAAC,aAAG,IAAI,YAAI,CAAC,EAAE,CAAC,IAAI,CAAC,EAAE,OAAO,EAAE,GAAG,EAAE,CAAC,EAA9B,CAA8B,CAAC;IAC1F,CAAC;IAED,sBAAI,4CAAc;aAAlB;YACE,EAAE,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC;gBACX,MAAM,CAAC,CAAC,IAAI,CAAC,WAAW,IAAI,CAAC,IAAI,CAAC,WAAW;oBAC3C,CAAC,IAAI,CAAC,WAAW,KAAK,IAAI,CAAC,WAAW,CAAC;oBACvC,CAAC,IAAI,CAAC,IAAI;oBACV,CAAC,IAAI,CAAC,iBAAiB,IAAI,CAAC,IAAI,CAAC,GAAG;YACxC,MAAM,CAAC,CAAC,IAAI,CAAC,WAAW,IAAI,CAAC,IAAI,CAAC,WAAW;gBAC3C,CAAC,IAAI,CAAC,WAAW,KAAK,IAAI,CAAC,WAAW,CAAC;gBACvC,CAAC,IAAI,CAAC,IAAI;gBACV,CAAC,IAAI,CAAC,iBAAiB;QAC3B,CAAC;;;OAAA;IAED,uCAAY,GAAZ;QACE,EAAE,CAAC,CAAC,IAAI,CAAC,WAAW,IAAI,CAAC,IAAI,CAAC,0BAA0B,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;YACzE,MAAM,CAAC,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,EAAE,OAAO,EAAE,oBAAoB,EAAE,CAAC;QAExD,EAAE,CAAC,CAAC,IAAI,CAAC,WAAW,KAAK,IAAI,CAAC,WAAW,CAAC;YAAC,MAAM;QAEjD,EAAE,CAAC,CAAC,IAAI,CAAC,GAAG,IAAI,CAAC,kDAAM,CAAC,KAAK,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;YACzC,MAAM,CAAC,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,EAAE,OAAO,EAAE,kBAAkB,EAAE,CAAC;QAErD,IAAM,cAAc,GAAG;YACtB,GAAG,EAAE,IAAI,CAAC,GAAG;YACb,KAAK,EAAE,IAAI,CAAC,IAAI;YAChB,UAAU,EAAE,IAAI,CAAC,WAAW;SAC5B;QACD,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,IAAI,mEAAW,CAAC,YAAY,CAAC,cAAc,CAAC,CAAC;IACjE,CAAC;IAED,qDAA0B,GAA1B,UAA4B,UAAU;QACpC,MAAM,CAAC,UAAU,CAAC,MAAM,IAAI,CAAC;IAC/B,CAAC;IArDU,gBAAgB;QAJ5B,wEAAS,CAAC;YACT,QAAQ,EAAE,oBAAoB;WACG;SAClC,CAAC;uEAYgC;YACf,wEAAK;YACR,qEAAoB;YACpB,aAAe;OAdlB,gBAAgB,CAsD5B;IAAD,CAAC;AAAA;SAtDY,gBAAgB,gB","file":"26.js","sourcesContent":["import { NgModule } from '@angular/core'\r\nimport { IonicPageModule } from 'ionic-angular'\r\nimport { CreateWalletPage } from './create-wallet'\r\nimport { TranslateModule } from '@ngx-translate/core'\r\n\r\nconst COMPONENTS = [\r\n\tCreateWalletPage\r\n]\r\n\r\n@NgModule({\r\n\tdeclarations: COMPONENTS,\r\n\timports: [\r\n\t\tTranslateModule.forChild(),\r\n\t\tIonicPageModule.forChild(CreateWalletPage),\r\n\t],\r\n\texports: COMPONENTS\r\n})\r\nexport class CreateWalletPageModule {}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/containers/create-wallet/create-wallet.module.ts","import {\r\n\tComponent,\r\n\tOnDestroy,\r\n\tOnInit\r\n} from '@angular/core'\r\nimport { Store } from '@ngrx/store'\r\nimport {\r\n  IonicPage,\r\n\tNavController,\r\n} from 'ionic-angular'\r\nimport { TranslateService } from '@ngx-translate/core'\r\n\r\nimport { wallet } from '../../libs/neon'\r\nimport { NotificationProvider, LoadingProvider } from '../../providers'\r\nimport { fromWallet } from '../../store/reducers'\r\nimport { AuthActions } from '../../store/actions'\r\nimport { AuthSelectors, WalletSelectors } from '../../store/selectors'\r\nimport 'rxjs/add/operator/take'\r\n\r\n\r\n@IonicPage({\r\n  name: 'CreateWallet',\r\n  segment: 'create-wallet'\r\n})\r\n@Component({\r\n  selector: 'page-create-wallet',\r\n  templateUrl: 'create-wallet.html',\r\n})\r\nexport class CreateWalletPage implements OnInit {\r\n  private protocolAgreement = false\r\n  private wif: string\r\n  private name: string\r\n  private passphrase1: string\r\n  private passphrase2: string\r\n\r\n  private passphraseLengthError: string\r\n  private wifError: string\r\n\r\n  constructor (\r\n    private navCtrl: NavController,\r\n    private store: Store<fromWallet.State>,\r\n    private np: NotificationProvider,\r\n    private lp: LoadingProvider,\r\n  ) { }\r\n\r\n  ngOnInit () {\r\n    this.store.select(AuthSelectors.getLoading).subscribe(bool => this.lp.emit(bool))\r\n\t\tthis.store.select(AuthSelectors.getError).subscribe(err => this.np.emit({ message: err }))\r\n  }\r\n\r\n  get disabledButton () {\r\n    if (this.wif)\r\n      return !this.passphrase1 || !this.passphrase2 ||\r\n        (this.passphrase1 !== this.passphrase2) ||\r\n        !this.name ||\r\n        !this.protocolAgreement || !this.wif\r\n    return !this.passphrase1 || !this.passphrase2 ||\r\n      (this.passphrase1 !== this.passphrase2) ||\r\n      !this.name ||\r\n      !this.protocolAgreement\r\n  }\r\n\r\n  createWallet () {\r\n    if (this.passphrase1 && !this.validatePassphraseStrength(this.passphrase1))\r\n      return this.np.emit({ message: 'Password too short' })\r\n\r\n    if (this.passphrase1 !== this.passphrase2) return\r\n\r\n    if (this.wif && !wallet.isWIF(this.wif))\r\n\t\t\treturn this.np.emit({ message: 'WIF format wrong' })\r\n\r\n\t\tconst dispatchOption = {\r\n\t\t\twif: this.wif,\r\n\t\t\tlabel: this.name,\r\n\t\t\tpassphrase: this.passphrase1\r\n\t\t}\r\n\t\tthis.store.dispatch(new AuthActions.CreateWallet(dispatchOption))\r\n  }\r\n\r\n  validatePassphraseStrength (passphrase) {\r\n    return passphrase.length >= 4\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/containers/create-wallet/create-wallet.ts"],"sourceRoot":""}