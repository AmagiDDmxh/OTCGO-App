{"version":3,"sources":["../../src/containers/possessions/possessions.module.ts","../../src/containers/possessions/possessions.ts","../../src/pipes/pipes.module.ts","../../src/pipes/address-collapse/address-collapse.pipe.ts","../../src/components/possessions/possessions-info.ts","../../src/components/possessions/possessions-list.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;AAAwC;AACO;AACA;AACO;AACD;AACmC;AACA;AAExF,IAAM,UAAU,GAAG;IAClB,qEAAe;IACf,0GAAwB;IACxB,0GAAwB;CACxB;AAUD;IAAA;IAAoC,CAAC;IAAxB,qBAAqB;QARjC,uEAAQ,CAAC;YACT,OAAO,EAAE;gBACR,sEAAe,CAAC,QAAQ,CAAC,qEAAe,CAAC;gBACzC,4EAAe,CAAC,QAAQ,EAAE;gBAC1B,wEAAW;aACX;YACD,YAAY,EAAE,UAAU;SACxB,CAAC;OACW,qBAAqB,CAAG;IAAD,4BAAC;CAAA;AAAH;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACnBZ;AACkC;AACrB;AAGJ;AAIwC;AACF;AACyC;AAS9G;IAgBC,yBACQ,OAAsB,EACrB,oBAA0C,EAC1C,EAAmB,EACnB,KAAmD;QAJ5D,iBAKI;QAJI,YAAO,GAAP,OAAO,CAAe;QACrB,yBAAoB,GAApB,oBAAoB,CAAsB;QAC1C,OAAE,GAAF,EAAE,CAAiB;QACnB,UAAK,GAAL,KAAK,CAA8C;QAjB5D,YAAO,GAAwB,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,yEAAe,CAAC,UAAU,CAAC;QAC5E,WAAM,GAAuB,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,yEAAe,CAAC,uBAAuB,CAAC;QACvF,iBAAY,GAAuB,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,2EAAiB,CAAC,WAAW,CAAC;QAQ3E,iBAAY,GAAG,IAAI;QAU3B,oBAAe,GAAG,cAAM,YAAI,CAAC,KAAK,EAAV,CAAU;IAF/B,CAAC;IAbJ,sBAAI,wCAAW;aAAf,cAAqB,MAAM,CAAC,IAAI,CAAC,YAAY,EAAC,CAAC;aAC/C,UAAiB,GAAG;YACnB,IAAI,CAAC,cAAc,CAAC,GAAG,CAAC;YACxB,IAAI,CAAC,YAAY,GAAG,GAAG;QACxB,CAAC;;;OAJ8C;IAiB/C,kCAAQ,GAAR;QAAA,iBAOC;QANA,IAAI,CAAC,cAAc,EAAE;QACrB,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,IAAI,sEAAc,CAAC,IAAI,EAAE,CAAC;QAC9C,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,IAAI,uEAAe,CAAC,IAAI,EAAE,CAAC;QAC/C,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,2EAAiB,CAAC,UAAU,CAAC,CAAC,SAAS,CAAC,iBAAO,IAAI,YAAI,CAAC,EAAE,CAAC,IAAI,CAAC,OAAO,CAAC,EAArB,CAAqB,CAAC;QAC3F,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,2EAAiB,CAAC,QAAQ,CAAC,CAAC,SAAS,CAAC,eAAK,IAAI,YAAK,IAAI,KAAI,CAAC,oBAAoB,CAAC,IAAI,CAAC,EAAE,OAAO,EAAE,KAAK,EAAE,CAAC,EAA3D,CAA2D,CAAC;QAC7H,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,yEAAe,CAAC,QAAQ,CAAC,CAAC,SAAS,CAAC,eAAK,IAAI,YAAI,CAAC,KAAK,GAAG,KAAK,EAAlB,CAAkB,CAAC;IACnF,CAAC;IAED,wCAAc,GAAd,UAAgB,WAA2B;QAA3B,gDAA2B;QAC1C,IAAI,CAAC,QAAQ,GAAG,WAAW;YAC1B,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,2EAAiB,CAAC,kBAAkB,CAAC;YACzD,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,2EAAiB,CAAC,yBAAyB,CAAC;IAClE,CAAC;IAED,mCAAS,GAAT,UAAW,SAAoB;QAC9B,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,IAAI,uEAAe,CAAC,IAAI,EAAE,CAAC;QAC/C,IAAI,CAAC,KAAK;aACP,MAAM,CAAC,2EAAiB,CAAC,UAAU,CAAC;aACpC,SAAS,CAAC,iBAAO,IAAI,QAAC,OAAO,IAAI,SAAS,CAAC,QAAQ,EAAE,EAAhC,CAAgC,CAAC;IAC1D,CAAC;IAED,6CAAmB,GAAnB,UAAqB,MAAM;QAA3B,iBAOC;QANA,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,IAAI,uEAAe,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC;QACvD,IAAI,CAAC,yBAAyB,GAAG,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,2EAAiB,CAAC,kBAAkB,CAAC;aACpE,IAAI,CAAC,CAAC,CAAC;aACP,SAAS,CAAC,yBAAe;YACzB,eAAe,IAAI,KAAI,CAAC,OAAO,CAAC,IAAI,CAAC,kBAAkB,CAAC;QACzD,CAAC,CAAC;IACtB,CAAC;IAED,gDAAsB,GAAtB,UAAwB,IAAI;QAC3B,IAAI,CAAC,WAAW,GAAG,IAAI;IACxB,CAAC;IA1DW,eAAe;QAJ3B,wEAAS,CAAC;YACV,QAAQ,EAAE,kBAAkB;WACG;SAC/B,CAAC;qFAkB6B;YACC,oEAAoB;YACtC,4DAAe;YACZ,KAAK;OApBT,eAAe,CA2D3B;IAAD,CAAC;AAAA;SA3DY,eAAe,e;;;;;;;;;;;;;;;;;ACvBY;AACsC;AAE9E,IAAM,KAAK,GAAG;IACZ,oGAAmB;CACpB;AAMD;IAAA;IAA0B,CAAC;IAAd,WAAW;QAJvB,uEAAQ,CAAC;YACR,YAAY,EAAE,KAAK;YACnB,OAAO,EAAE,KAAK;SACf,CAAC;OACW,WAAW,CAAG;IAAD,kBAAC;CAAA;AAAH;;;;;;;;;;;;;;;;;ACX4B;AAGpD;IAAA;IAMA,CAAC;IALC,uCAAS,GAAT,UAAW,KAAa;QACxB,IAAM,KAAK,GAAG,KAAK,CAAC,MAAM,GAAG,CAAC;QAC5B,IAAM,SAAS,GAAG,KAAK,GAAG,CAAC;QAC3B,MAAM,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,EAAE,KAAK,CAAC,GAAG,KAAK,GAAG,KAAK,CAAC,MAAM,CAAC,SAAS,EAAE,KAAK,GAAG,CAAC,CAAC;IAC5E,CAAC;IALU,mBAAmB;QAD/B,mEAAI,CAAC,EAAC,IAAI,EAAE,iBAAiB,EAAC,CAAC;OACnB,mBAAmB,CAM/B;IAAD,0BAAC;CAAA;AAN+B;;;;;;;;;;;;;;;;;;;;;;;ACHgB;AACH;AACC;AAe9C;IAGC,kCAAqB,OAAsB;QAAtB,YAAO,GAAP,OAAO,CAAe;IAAG,CAAC;IAE/C,6CAAU,GAAV;QACC,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,gBAAgB,EAAE,EAAE,OAAO,EAAE,IAAI,CAAC,OAAO,IAAI,IAAI,CAAC,OAAO,CAAC,OAAO,EAAE,CAAC;IACvF,CAAC;IANQ;QAAR,oEAAK,EAAE;kCAAU,wDAAO;6DAAA;IADb,wBAAwB;QAbpC,wEAAS,CAAC;YACV,QAAQ,EAAE,kBAAkB;YAC5B,QAAQ,EAAE,8VAST;SACD,CAAC;yCAI6B,oEAAa;OAH/B,wBAAwB,CAQpC;IAAD,+BAAC;CAAA;AARoC;;;;;;;;;;;;;;;;;;;;ACjBiC;AA4CtE;IAzCA;QA4CU,WAAM,GAAG,IAAI;QACb,iBAAY,GAAW,KAAK;QAC3B,WAAM,GAAG,IAAI,mEAAY,EAAE;QAC3B,qBAAgB,GAAG,IAAI,mEAAY,EAAE;IAChD,CAAC;IANS;QAAR,oEAAK,EAAE;kCAAW,KAAK;8DAAU;IACzB;QAAR,oEAAK,EAAE;;iEAAqB;IACpB;QAAR,oEAAK,EAAE;;4DAAc;IACb;QAAR,oEAAK,EAAE;;kEAA6B;IAC3B;QAAT,qEAAM,EAAE;;4DAA4B;IAC3B;QAAT,qEAAM,EAAE;;sEAAsC;IANnC,wBAAwB;QAzCpC,wEAAS,CAAC;YACV,QAAQ,EAAE,kBAAkB;YAC5B,QAAQ,EAAE,6+CAqCT;SACD,CAAC;OACW,wBAAwB,CAOpC;IAAD,+BAAC;CAAA;AAPoC","file":"6.js","sourcesContent":["import { NgModule } from '@angular/core'\r\nimport { PossessionsPage } from './possessions'\r\nimport { IonicPageModule } from 'ionic-angular'\r\nimport { PipesModule } from '../../pipes/pipes.module'\r\nimport { TranslateModule } from '@ngx-translate/core'\r\nimport { PossessionsInfoComponent } from '../../components/possessions/possessions-info'\r\nimport { PossessionsListComponent } from '../../components/possessions/possessions-list'\r\n\r\nconst COMPONENTS = [\r\n\tPossessionsPage,\r\n\tPossessionsInfoComponent,\r\n\tPossessionsListComponent\r\n]\r\n\r\n@NgModule({\r\n\timports: [\r\n\t\tIonicPageModule.forChild(PossessionsPage),\r\n\t\tTranslateModule.forChild(),\r\n\t\tPipesModule\r\n\t],\r\n\tdeclarations: COMPONENTS\r\n})\r\nexport class PossessionsPageModule {}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/containers/possessions/possessions.module.ts","import {\r\n\tComponent,\r\n\tOnInit\r\n} from '@angular/core'\r\nimport {\r\n\tIonicPage,\r\n\tNavController,\r\n\tRefresher\r\n} from 'ionic-angular'\r\nimport { Store } from '@ngrx/store'\r\nimport { Observable } from 'rxjs/Observable'\r\nimport { Subscription } from 'rxjs/Subscription'\r\nimport 'rxjs/add/operator/take'\r\n\r\nimport { IBalance } from '../../shared/models'\r\nimport { Account } from '../../shared/typings'\r\nimport { LoadingProvider, NotificationProvider } from '../../providers'\r\nimport { MarketsActions, BalancesActions } from '../../store/actions'\r\nimport { WalletSelectors, BalancesSelectors, PricesSelectors, SettingsSelectors } from '../../store/selectors'\r\nimport { fromBalances, fromWallet } from '../../store/reducers'\r\n\r\n\r\n@IonicPage({\r\n\tname: 'Possessions',\r\n\tsegment: 'possessions'\r\n})\r\n@Component({\r\n\tselector: 'page-possessions',\r\n\ttemplateUrl: 'possessions.html'\r\n})\r\nexport class PossessionsPage implements OnInit {\r\n\texits: boolean\r\n\tbalances: Observable<IBalance[]>\r\n\taccount: Observable<Account> = this.store.select(WalletSelectors.getAccount)\r\n\tamount: Observable<number> = this.store.select(PricesSelectors.getDefaultAccountAmount)\r\n\tbaseCurrency: Observable<string> = this.store.select(SettingsSelectors.getCurrency)\r\n\tselectedBalanceSubscriber: Subscription\r\n\r\n\tget displayZero () { return this._displayZero }\r\n\tset displayZero (val) {\r\n\t\tthis.updateBalances(val)\r\n\t\tthis._displayZero = val\r\n\t}\r\n\tprivate _displayZero = true\r\n\r\n\r\n\tconstructor (\r\n\t\tpublic navCtrl: NavController,\r\n\t\tprivate notificationProvider: NotificationProvider,\r\n\t\tprivate lp: LoadingProvider,\r\n\t\tprivate store: Store<fromBalances.State | fromWallet.State>\r\n\t) {}\r\n\r\n\tionViewCanEnter = () => this.exits\r\n\r\n\tngOnInit () {\r\n\t\tthis.updateBalances()\r\n\t\tthis.store.dispatch(new MarketsActions.Load())\r\n\t\tthis.store.dispatch(new BalancesActions.Load())\r\n\t\tthis.store.select(BalancesSelectors.getLoading).subscribe(loading => this.lp.emit(loading))\r\n\t\tthis.store.select(BalancesSelectors.getError).subscribe(error => error && this.notificationProvider.emit({ message: error }))\r\n\t\tthis.store.select(WalletSelectors.getExits).subscribe(exits => this.exits = exits)\r\n\t}\r\n\r\n\tupdateBalances (displayZero: boolean = true) {\r\n\t\tthis.balances = displayZero\r\n\t\t\t? this.store.select(BalancesSelectors.getDefaultEntities)\r\n\t\t\t: this.store.select(BalancesSelectors.getDefaultNonZeroEntities)\r\n\t}\r\n\r\n\tdoRefresh (refresher: Refresher) {\r\n\t\tthis.store.dispatch(new BalancesActions.Load())\r\n\t\tthis.store\r\n\t\t\t\t.select(BalancesSelectors.getLoading)\r\n\t\t\t\t.subscribe(loading => !loading && refresher.complete())\r\n\t}\r\n\r\n\thandleBalanceSelect (symbol) {\r\n\t\tthis.store.dispatch(new BalancesActions.Select(symbol))\r\n\t\tthis.selectedBalanceSubscriber = this.store.select(BalancesSelectors.getSelectedBalance)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t .take(1)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t .subscribe(selectedBalance => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t selectedBalance && this.navCtrl.push('PossessionDetail')\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t })\r\n\t}\r\n\r\n\thandleDisplayZeroClick (bool) {\r\n\t\tthis.displayZero = bool\r\n\t}\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/containers/possessions/possessions.ts","import { NgModule } from '@angular/core'\r\nimport { AddressCollapsePipe } from './address-collapse/address-collapse.pipe'\r\n\r\nconst PIPES = [\r\n  AddressCollapsePipe\r\n]\r\n\r\n@NgModule({\r\n  declarations: PIPES,\r\n  exports: PIPES\r\n})\r\nexport class PipesModule {}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pipes/pipes.module.ts","import { Pipe, PipeTransform } from \"@angular/core\";\r\n\r\n@Pipe({name: 'addressCollapse'})\r\nexport class AddressCollapsePipe implements PipeTransform {\r\n  transform (value: string) {\r\n\t\tconst third = value.length / 3\r\n    const twoThirds = third * 2\r\n    return value.substr(0, third) + '...' + value.substr(twoThirds, third + 1)\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pipes/address-collapse/address-collapse.pipe.ts","import { Component, Input } from '@angular/core'\r\nimport { NavController } from 'ionic-angular'\r\nimport { Account } from '../../shared/typings'\r\n\r\n@Component({\r\n\tselector: 'possessions-info',\r\n\ttemplate: `\r\n\t  <ion-card class=\"card-info\">\r\n\t\t  <div class=\"card-avatar\" (click)=\"openQRCode()\">\r\n\t\t\t  <img src=\"assets/imgs/icon-qrcode-avatar.svg\" alt=\"\">\r\n\t\t  </div>\r\n\t\t  <div class=\"card-title\">{{ account?.address | addressCollapse }}</div>\r\n\t\t\t<div class=\"bg\"></div>\r\n\t  </ion-card>\r\n\t\t<div class=\"card-round\"></div>\r\n\t`\r\n})\r\nexport class PossessionsInfoComponent {\r\n\t@Input() account: Account\r\n\r\n\tconstructor (private navCtrl: NavController) {}\r\n\t\r\n\topenQRCode () {\r\n\t\tthis.navCtrl.push('payment-qrcode', { address: this.account && this.account.address })\r\n\t}\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/possessions/possessions-info.ts","import { Component, EventEmitter, Input, Output } from '@angular/core'\r\nimport { IBalance } from '../../shared/models'\r\n\r\n@Component({\r\n\tselector: 'possessions-list',\r\n\ttemplate: `\r\n\t  <ion-grid class=\"possessions__base-accumulator\">\r\n\t\t  <ion-row class=\"card-base\">\r\n\t\t\t  <ion-col col-9>\r\n\t\t\t\t  <ion-card class=\"possessions__total-balances\">\r\n\t\t\t\t\t  <ion-row>{{ 'POSSESSIONS.totalBalances' | translate }} {{ baseCurrency.toUpperCase() }}</ion-row>\r\n\t\t\t\t\t  <ion-row class=\"possessions__volume\">{{ amount | number:'1.1-4' }}</ion-row>\r\n\t\t\t\t  </ion-card>\r\n\t\t\t  </ion-col>\r\n\t\t\t  <ion-col col-3 class=\"possessions__hide-zero\" align-self-end>\r\n\t\t\t\t  <ion-card (click)=\"displayZeroClick.emit(!displayZero)\">\r\n\t\t\t\t\t  <img *ngIf=\"displayZero\" src=\"assets/imgs/icon-possessions_hide-zero.svg\" alt=\"\">\r\n\t\t\t\t\t\t<img *ngIf=\"!displayZero\" src=\"assets/imgs/icon-possessions_hide-zero-on.svg\" alt=\"\">\r\n\t\t\t\t\t\t<h5>{{ 'POSSESSIONS.displayZero' | translate }}</h5>\r\n\t\t\t\t  </ion-card>\r\n\t\t\t  </ion-col>\r\n\t\t  </ion-row>\r\n\t  </ion-grid>\r\n\t  \r\n\t  <ion-card class=\"card-list\"\r\n\t            *ngFor=\"let balance of balances\">\r\n\r\n\t\t  <ion-item (click)=\"select.emit(balance.symbol)\">\r\n\t\t\t  <div class=\"possessions__icon\"\r\n\t\t\t       item-start>\r\n\t\t\t\t  <img src=\"{{ 'assets/icon/' + balance?.symbol +'.png' }}\"\r\n\t\t\t\t       onerror=\"this.src='assets/icon/申一币.png'\" />\r\n\t\t\t  </div>\r\n\r\n\t\t\t  <p class=\"possessions__symbol\">{{ balance?.symbol }}</p>\r\n\r\n\t\t\t  <ion-note item-end>\r\n\t\t\t\t  {{ balance?.amount | number:'1.1-2' }}\r\n\t\t\t  </ion-note>\r\n\t\t  </ion-item>\r\n\r\n\t  </ion-card>\r\n\t`\r\n})\r\nexport class PossessionsListComponent {\r\n\t@Input() balances: Array<IBalance>\r\n\t@Input() displayZero: boolean\r\n\t@Input() amount = 0.00\r\n\t@Input() baseCurrency: string = 'cny'\r\n\t@Output() select = new EventEmitter()\r\n\t@Output() displayZeroClick = new EventEmitter()\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/possessions/possessions-list.ts"],"sourceRoot":""}